/* ================================
   Guía de Estilos Institucionales • Javi
   Bootstrap 5 + Gradientes + Espejo + Glassmorphism
   Tipografía: Montserrat
================================== */

/* ---------- 1) Tokens / Variables ---------- */
:root {
    /* Colores base */
    --color-burdeos-oscuro: #35031B;
    --color-burdeos-medio: #601623;
    --color-verde-profundo: #20705B;
    --color-verde-marino: #1F7A62;
    --color-magenta-oscuro: #7E1D37;
    --color-rosa-palido: #EFD2DC;
    --color-aqua-claro: #95E5E0;
    --color-mostaza-amarillo: #C69A04;
    --color-rojo-vivo: #E24849;
    --color-amarillo-claro: #FEC747;

    /* Estados */
    --estado-operativo: var(--color-verde-profundo);
    --estado-mantenimiento: var(--color-mostaza-amarillo);
    --estado-fuera-servicio: var(--color-rojo-vivo);
    --estado-construccion: var(--color-verde-marino);

    /* Tipografía */
    --font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;

    /* Escalas y estética */
    --radius-xs: 6px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 28px;
    --elev-1: 0 2px 8px rgba(0, 0, 0, .08);
    --elev-2: 0 6px 16px rgba(0, 0, 0, .12);
    --elev-3: 0 10px 28px -6px rgba(0, 0, 0, .35);
    --elev-glass: 0 12px 40px rgba(0, 0, 0, .15);
    --blur-sm: 6px;
    --blur-md: 10px;
    --blur-lg: 15px;

    /* Gradientes institucionales */
    --grad-verde: linear-gradient(135deg, var(--color-verde-profundo) 0%, var(--color-verde-marino) 100%);
    --grad-burdeos: linear-gradient(135deg, var(--color-burdeos-medio) 0%, var(--color-burdeos-oscuro) 100%);
    --grad-hero: radial-gradient(circle at 25% 20%, #ffffff 0%, #f5f6f7 45%, #eceeef 100%);

    /* Focus ring */
    --ring-verde: 0 0 0 .2rem rgba(32, 112, 91, .25);

    /* ---------- Footer rojo degradado (uso en index.html y elementos.html) ---------- */
    --grad-footer-red: linear-gradient(135deg, rgba(226, 72, 73, 1) 0%, rgba(158, 24, 30, 1) 60%, rgba(123, 12, 18, 1) 100%);
    --footer-text: #fff;
    --footer-link-hover: rgba(255, 255, 255, 0.9);
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    background: var(--grad-hero);
    color: var(--color-burdeos-oscuro);
    padding-top: 0;
}

/* ---------- 2) Utilidades atómicas ---------- */
/* Glassmorphism */
.u-glass {
    background: rgba(255, 255, 255, .9);
    backdrop-filter: blur(var(--blur-md));
    -webkit-backdrop-filter: blur(var(--blur-md));
    border: 1px solid rgba(255, 255, 255, .4);
    border-radius: var(--radius-lg);
    box-shadow: var(--elev-glass);
}

.u-glass--verde {
    background: linear-gradient(135deg, rgba(255, 255, 255, .85), rgba(255, 255, 255, .75)) padding-box,
        linear-gradient(135deg, rgba(32, 112, 91, .25), rgba(31, 122, 98, .25)) border-box;
    border: 1px solid transparent;
}

/* Efecto espejo (reflejo superior sutil) */
.u-espejo {
    position: relative;
    overflow: hidden;
}

.u-espejo::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: .18;
    background: linear-gradient(to bottom, rgba(255, 255, 255, .65) 0%, rgba(255, 255, 255, 0) 40%);
}

/* Gradientes de marca */
.u-grad-verde {
    background: var(--grad-verde) !important;
}

.u-grad-burdeos {
    background: var(--grad-burdeos) !important;
}

/* Elevación */
.u-elev-1 {
    box-shadow: var(--elev-1);
}

.u-elev-2 {
    box-shadow: var(--elev-2);
}

.u-elev-3 {
    box-shadow: var(--elev-3);
}

/* Radios */
.u-r-xs {
    border-radius: var(--radius-xs)
}

.u-r-sm {
    border-radius: var(--radius-sm)
}

.u-r-md {
    border-radius: var(--radius-md)
}

.u-r-lg {
    border-radius: var(--radius-lg)
}

.u-r-xl {
    border-radius: var(--radius-xl)
}

.u-r-2xl {
    border-radius: var(--radius-2xl)
}

/* Focus visible */
.u-focus:focus {
    outline: none;
    box-shadow: var(--ring-verde);
}

/* Animaciones sutiles */
@keyframes riseIn {
    from {
        opacity: 0;
        transform: translateY(12px)
    }

    to {
        opacity: 1;
        transform: translateY(0)
    }
}

.u-ani-rise {
    animation: riseIn .45s ease-out both;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
    }
}

/* ---------- 3) Navbar institucional ---------- */
.institutional-navbar {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border-bottom: 4px solid var(--color-burdeos-medio);
    box-shadow: 0 2px 10px rgba(0, 0, 0, .08);
    position: sticky;
    top: 0;
    z-index: 1030;
}

.navbar-title {
    font-size: 1.35rem;
    font-weight: 800;
    letter-spacing: .3px;
    text-transform: uppercase;
    color: var(--color-burdeos-oscuro);
}

.navbar-subtitle {
    font-size: .95rem;
    font-weight: 600;
    color: var(--color-verde-profundo);
    margin-top: .25rem;
}

.sener-logo,
.gob-logo {
    height: 60px;
    width: auto;
    object-fit: contain;
    transition: transform .3s ease;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, .1));
    border: none;
}

.sener-logo:hover,
.gob-logo:hover {
    transform: scale(1.05);
}

@media (max-width:576px) {

    .sener-logo,
    .gob-logo {
        display: none !important;
    }
}

/* ---------- 4) Botones (unificación y efectos) ---------- */
.btn {
    border-radius: var(--radius-sm);
    padding: .55rem 1rem;
    transition: transform .16s ease, box-shadow .2s ease, background .2s ease, border .16s ease;
    font-weight: 600;
    letter-spacing: .2px;
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    justify-content: center;
    min-height: 44px;
}

/* micro animation */
.btn:active {
    transform: translateY(0);
}

.btn:hover {
    transform: translateY(-2px);
}

/* PRIMARY - Verde institucional (gradiente suave con brillo) */
.btn-primary {
    color: #fff;
    background-image: linear-gradient(180deg, rgba(60, 176, 143, 1) 0%, rgba(32, 112, 91, 1) 100%);
    background-size: 100% 200%;
    border: 0;
    box-shadow: 0 6px 20px rgba(32, 112, 91, .12);
    position: relative;
    overflow: hidden;
}

.btn-primary::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, rgba(255, 255, 255, .12) 0%, rgba(255, 255, 255, 0) 60%);
    pointer-events: none;
}

.btn-primary:hover {
    background-position: 0 100%;
    box-shadow: 0 10px 30px rgba(32, 112, 91, .18);
}

.btn-primary:focus {
    outline: none;
    box-shadow: var(--ring-verde), 0 8px 24px rgba(32, 112, 91, .12);
}

.btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 6px 14px rgba(32, 112, 91, .12) inset;
}

/* SECONDARY - Burdeos degradado */
.btn-secondary {
    color: #fff;
    background-image: linear-gradient(180deg, var(--color-burdeos-medio) 0%, var(--color-burdeos-oscuro) 100%);
    border: 0;
    box-shadow: 0 6px 20px rgba(96, 22, 35, .12);
}

.btn-secondary:hover {
    filter: brightness(1.03);
    box-shadow: 0 10px 30px rgba(96, 22, 35, .16);
}

.btn-secondary:focus {
    box-shadow: 0 0 0 .2rem rgba(96, 22, 35, .18);
}

/* SUCCESS - Verde profundo con brillo */
.btn-success {
    color: #fff;
    background-image: linear-gradient(180deg, #37a176 0%, var(--estado-operativo) 100%);
    border: 0;
    box-shadow: 0 6px 18px rgba(32, 112, 91, .12);
}

.btn-success:hover {
    filter: brightness(1.04);
}

/* WARNING - Mostaza / Amarillo degradado */
.btn-warning {
    color: #111;
    background-image: linear-gradient(180deg, #f6c85a 0%, var(--color-mostaza-amarillo) 100%);
    border: 0;
    box-shadow: 0 6px 18px rgba(198, 154, 4, .12);
}

.btn-warning:hover {
    filter: brightness(1.03);
}

/* DANGER - Rojo vivo degradado */
.btn-danger {
    color: #fff;
    background-image: linear-gradient(180deg, #ff6b6b 0%, var(--color-rojo-vivo) 100%);
    border: 0;
    box-shadow: 0 6px 18px rgba(226, 72, 73, .12);
}

.btn-danger:hover {
    filter: brightness(0.98);
}

/* INFO - Aqua / Teal degradado */
.btn-info {
    color: #083232;
    background-image: linear-gradient(180deg, #bff3ef 0%, var(--color-aqua-claro) 100%);
    border: 0;
    box-shadow: 0 6px 18px rgba(15, 120, 115, .06);
}

.btn-info:hover {
    filter: brightness(1.02);
}

/* OUTLINE - variante outline con borde degradado sutil */
.btn-outline {
    position: relative;
    background: transparent;
    color: var(--color-verde-profundo);
    border: 1px solid transparent;
    padding: .5rem .95rem;
}

.btn-outline::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;
    border-radius: inherit;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.0));
}

.btn-outline.primary {
    color: var(--color-verde-profundo);
    border: 1px solid rgba(32, 112, 91, .14);
    background-image: linear-gradient(180deg, rgba(32, 112, 91, .03), rgba(32, 112, 91, .02));
}

.btn-outline:hover {
    background-image: linear-gradient(180deg, rgba(32, 112, 91, .06), rgba(32, 112, 91, .02));
    transform: translateY(-2px);
}

/* Disabled / aria-disabled */
.btn[disabled],
.btn.disabled,
.btn[aria-disabled="true"] {
    opacity: .6;
    pointer-events: none;
    filter: grayscale(.02);
    transform: none;
    box-shadow: none;
}

/* Small / Large variants (keeps gradients) */
.btn-sm {
    padding: .35rem .6rem;
    height: 36px;
    font-size: .85rem;
}

.btn-lg {
    padding: .85rem 1.25rem;
    height: 52px;
    font-size: 1.05rem;
}

/* Icon-only square */
.btn-icon {
    width: 44px;
    height: 44px;
    padding: 0;
    border-radius: 10px;
    display: inline-grid;
    place-items: center;
}

/* Accessibility: visible focus for keyboard navigation */
.btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 .22rem rgba(32, 112, 91, .18);
}

/* Utility to generate soft glass sheen for any btn */
.btn--sheen::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(120deg, rgba(255, 255, 255, .08) 0%, rgba(255, 255, 255, 0) 60%);
    transition: opacity .2s ease;
    opacity: .9;
}

.btn--sheen:hover::after {
    opacity: 1;
}

/* ---------- 5) Formularios, tablas, tarjetas, modales ---------- */
.form-control {
    border-radius: var(--radius-sm);
}

.form-control:focus {
    border-color: var(--color-verde-profundo);
    box-shadow: var(--ring-verde);
}

.form-check-input:checked {
    background-color: var(--color-verde-profundo);
    border-color: var(--color-verde-profundo);
}

.table {
    border-color: rgba(0, 0, 0, .08);
}

.table thead th {
    background: var(--grad-verde);
    color: #fff;
    border: 0;
}

.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(32, 112, 91, .03);
}

.card {
    border: 1px solid rgba(0, 0, 0, .06);
    border-radius: var(--radius-lg);
    box-shadow: var(--elev-1);
}

.card-header {
    background: var(--grad-burdeos);
    color: #fff;
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

/* Alertas */
.alert {
    border-radius: var(--radius-sm);
}

.alert-primary {
    background: var(--color-rosa-palido);
    border-color: var(--color-burdeos-medio);
    color: var(--color-burdeos-oscuro);
}

.alert-secondary {
    background: #f8f9fa;
    color: #212529;
    border-color: #ced4da;
}

/* Badges y progress */
.badge {
    border-radius: var(--radius-sm);
}

.progress {
    border-radius: var(--radius-sm);
}

.progress-bar {
    background: linear-gradient(90deg, var(--color-verde-profundo) 0%, var(--color-verde-marino) 50%, var(--color-aqua-claro) 100%);
    border-radius: 10px;
    transition: width .3s ease;
}

/* Paginación */
.pagination .page-link {
    color: var(--color-verde-profundo);
}

.pagination .page-item.active .page-link {
    background: var(--color-verde-profundo);
    border-color: var(--color-verde-profundo);
}

/* Modales */
.modal-content {
    border-radius: var(--radius-lg);
    box-shadow: var(--elev-2);
}

.modal-header {
    background: var(--grad-burdeos);
    color: #fff;
}

/* ---------- 6) Tooltips y Popovers ---------- */
.tooltip-inner {
    background-color: var(--color-burdeos-oscuro);
    color: #fff;
    border-radius: var(--radius-sm);
    padding: 8px 12px;
    font-size: .85rem;
}

.tooltip.bs-tooltip-top .tooltip-arrow::before {
    border-top-color: var(--color-burdeos-oscuro);
}

.tooltip.bs-tooltip-bottom .tooltip-arrow::before {
    border-bottom-color: var(--color-burdeos-oscuro);
}

.tooltip.bs-tooltip-start .tooltip-arrow::before {
    border-left-color: var(--color-burdeos-oscuro);
}

.tooltip.bs-tooltip-end .tooltip-arrow::before {
    border-right-color: var(--color-burdeos-oscuro);
}

.popover-header {
    background-color: var(--color-burdeos-medio);
    color: #fff;
    border-top-left-radius: var(--radius-sm);
    border-top-right-radius: var(--radius-sm);
    font-weight: 700;
}

.popover-body {
    background-color: #fff;
    color: var(--color-burdeos-oscuro);
    border-bottom-left-radius: var(--radius-sm);
    border-bottom-right-radius: var(--radius-sm);
}

.popover.bs-popover-top .popover-arrow::before {
    border-top-color: var(--color-burdeos-medio);
}

.popover.bs-popover-bottom .popover-arrow::before {
    border-bottom-color: var(--color-burdeos-medio);
}

.popover.bs-popover-start .popover-arrow::before {
    border-left-color: var(--color-burdeos-medio);
}

.popover.bs-popover-end .popover-arrow::before {
    border-right-color: var(--color-burdeos-medio);
}

/* ---------- 7) Leaflet / Mapas ---------- */
#map {
    width: 100%;
    height: 62vh;
    border-radius: 18px;
    box-shadow: var(--elev-3);
    border: 1px solid rgba(255, 255, 255, 0.25);
    overflow: hidden;
}

@media (min-width: 992px) {
    #map {
        height: 70vh;
    }
}

#map-container {
    position: relative;
    margin-bottom: 2rem;
}

#map-container::before {
    content: '';
    position: absolute;
    top: -10px;
    left: -10px;
    right: -10px;
    bottom: -10px;
    z-index: -1;
    border-radius: 28px;
    background: linear-gradient(135deg, rgba(32, 112, 91, .1) 0%, rgba(96, 22, 35, .1) 50%, rgba(126, 29, 55, .1) 100%);
}

/* Botón centrado */
#center-map-btn {
    position: absolute;
    bottom: 30px;
    left: 10px;
    z-index: 400;
    background: rgba(255, 255, 255, .95);
    color: var(--color-verde-profundo);
    border: 1px solid rgba(32, 112, 91, .3);
    border-radius: 12px;
    padding: 0;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 700;
    box-shadow: 0 4px 16px rgba(0, 0, 0, .1);
    backdrop-filter: blur(10px);
    transition: all .3s ease;
}

#center-map-btn:hover {
    background: var(--color-magenta-oscuro);
    color: #fff;
    transform: scale(1.05);
}

/* Leaflet Controls (glass) */
.leaflet-control-layers {
    background: rgba(255, 255, 255, .98) !important;
    backdrop-filter: blur(var(--blur-lg)) !important;
    -webkit-backdrop-filter: blur(var(--blur-lg)) !important;
    border: 1px solid rgba(255, 255, 255, .4) !important;
    border-radius: 16px !important;
    box-shadow: var(--elev-glass) !important;
    padding: 0 !important;
    overflow: hidden !important;
    animation: fadeInUp .5s ease-out !important;
}

.leaflet-control-layers-toggle {
    background: rgba(255, 255, 255, .95) !important;
    border-radius: 12px !important;
    width: 44px !important;
    height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border: 1px solid rgba(255, 255, 255, .4) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, .1) !important;
    transition: all .3s ease !important;
    background-image: none !important;
}

.leaflet-control-layers-toggle::before {
    content: "⚏" !important;
    font-size: 20px !important;
    color: var(--color-verde-profundo) !important;
    font-weight: 700 !important;
}

.leaflet-control-layers-toggle:hover {
    background: var(--color-verde-profundo) !important;
    transform: scale(1.05) !important;
}

.leaflet-control-layers-toggle:hover::before {
    color: #fff !important;
}

.leaflet-control-layers-expanded {
    padding: 20px !important;
    min-width: 280px !important;
}

.leaflet-control-layers-base,
.leaflet-control-layers-overlays {
    margin-bottom: 15px !important;
}

.leaflet-control-layers-separator {
    height: 2px !important;
    margin: 15px 0 !important;
    background: linear-gradient(90deg, transparent, var(--color-verde-profundo), transparent) !important;
    border: none !important;
}

.leaflet-control-layers label {
    font-family: var(--font-family) !important;
    font-weight: 500 !important;
    font-size: .9rem !important;
    color: var(--color-burdeos-oscuro) !important;
    padding: 8px 12px !important;
    margin: 4px 0 !important;
    border-radius: 8px !important;
    transition: all .3s ease !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    background: rgba(255, 255, 255, .5) !important;
    border: 1px solid rgba(0, 0, 0, .05) !important;
}

.leaflet-control-layers label:hover {
    background: rgba(32, 112, 91, .1) !important;
    border-color: var(--color-verde-profundo) !important;
    transform: translateX(4px) !important;
}

.leaflet-control-layers input[type="radio"],
.leaflet-control-layers input[type="checkbox"] {
    margin-right: 10px !important;
    transform: scale(1.2) !important;
    accent-color: var(--color-verde-profundo) !important;
}

.leaflet-control-zoom {
    border: none !important;
    border-radius: 12px !important;
    overflow: hidden !important;
    box-shadow: var(--elev-2) !important;
    animation: fadeInUp .5s ease-out !important;
}

.leaflet-control-zoom a {
    background: rgba(255, 255, 255, .98) !important;
    backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, .4) !important;
    color: var(--color-verde-profundo) !important;
    font-weight: 700 !important;
    font-size: 18px !important;
    transition: all .3s ease !important;
    width: 44px !important;
    height: 44px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.leaflet-control-zoom a:hover {
    background: var(--color-verde-profundo) !important;
    color: #fff !important;
    transform: scale(1.05) !important;
}

.leaflet-control-zoom a:first-child {
    border-radius: 12px 12px 0 0 !important;
}

.leaflet-control-zoom a:last-child {
    border-radius: 0 0 12px 12px !important;
}

.leaflet-control-attribution {
    background: rgba(255, 255, 255, .9) !important;
    backdrop-filter: blur(10px) !important;
    border-radius: 8px 8px 0 0 !important;
    padding: 6px 12px !important;
    font-size: .75rem !important;
    color: var(--color-burdeos-oscuro) !important;
    border: 1px solid rgba(255, 255, 255, .4) !important;
    border-bottom: none !important;
}

.leaflet-control-attribution a {
    color: var(--color-verde-profundo) !important;
    text-decoration: none !important;
    font-weight: 500 !important;
}

.leaflet-control-attribution a:hover {
    color: var(--color-burdeos-medio) !important;
    text-decoration: underline !important;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Popups */
.leaflet-popup-content-wrapper,
.leaflet-popup-content-wrapper * {
    background: #fff !important;
}

.leaflet-popup-content-wrapper {
    background: #fff !important;
    backdrop-filter: blur(var(--blur-lg)) !important;
    -webkit-backdrop-filter: blur(var(--blur-lg)) !important;
    border: 1px solid rgba(32, 112, 91, .3) !important;
    border-radius: 12px !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, .12), 0 2px 8px rgba(32, 112, 91, .08) !important;
    padding: 0 !important;
    overflow: hidden !important;
}

.leaflet-popup-content {
    margin: 0 !important;
    padding: 20px !important;
    line-height: 1.5 !important;
    max-width: 360px !important;
    font-family: var(--font-family) !important;
    color: var(--color-burdeos-oscuro) !important;
}

.leaflet-popup-content h6 {
    margin: 0 0 12px 0 !important;
    padding: 0 0 10px 0 !important;
    font-weight: 800 !important;
    font-size: 1.1rem !important;
    text-transform: uppercase !important;
    letter-spacing: .5px !important;
    border-bottom: 2px solid var(--color-verde-profundo) !important;
}

.leaflet-popup-content .table-responsive {
    border-radius: 8px !important;
    overflow: hidden !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .08) !important;
}

.leaflet-popup-content .table {
    margin-bottom: 0 !important;
    font-size: .9rem !important;
    background: #fff !important;
}

.leaflet-popup-content .table th {
    background: var(--grad-verde) !important;
    color: #fff !important;
    font-weight: 600 !important;
    font-size: .8rem !important;
    text-transform: uppercase !important;
    letter-spacing: .3px !important;
    padding: 12px 10px !important;
    border: none !important;
}

.leaflet-popup-content .table td {
    padding: 10px !important;
    border-bottom: 1px solid rgba(0, 0, 0, .05) !important;
    color: var(--color-burdeos-oscuro) !important;
    font-weight: 500 !important;
}

.leaflet-popup-content .table tr:nth-child(even) {
    background-color: rgba(32, 112, 91, .03) !important;
}

.leaflet-popup-content .table tr:hover {
    background-color: rgba(32, 112, 91, .08) !important;
    transition: background-color .2s ease !important;
}

.leaflet-popup-tip {
    background: #fff !important;
    border: none !important;
    box-shadow: -1px -1px 2px rgba(32, 112, 91, .05) !important;
    width: 14px !important;
    height: 14px !important;
    padding: 1px !important;
    margin: -8px auto 0 !important;
    transform: rotate(45deg) !important;
    border-top: 1px solid rgba(32, 112, 91, .3) !important;
    border-left: 1px solid rgba(32, 112, 91, .3) !important;
}

.leaflet-popup-close-button {
    color: rgba(255, 255, 255, .9) !important;
    font-size: 16px !important;
    font-weight: 700 !important;
    padding: 0 !important;
    line-height: 1 !important;
    width: 28px !important;
    height: 28px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
    background: rgba(220, 53, 69, .9) !important;
    backdrop-filter: blur(10px) !important;
    border: 2px solid rgba(255, 255, 255, .3) !important;
    transition: all .3s ease !important;
    top: 8px !important;
    right: 8px !important;
    text-decoration: none !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .15) !important;
}

.leaflet-popup-close-button:hover {
    background: rgba(220, 53, 69, 1) !important;
    color: #fff !important;
    transform: scale(1.1) rotate(90deg) !important;
    border-color: rgba(255, 255, 255, .6) !important;
}

.leaflet-popup-close-button:active {
    transform: scale(.95) !important;
}

/* ---------- 8) Footer institucional ---------- */
.main-footer {
    color: var(--color-rosa-palido);
    padding: 3rem 0;
    font-size: .9rem;
    margin-top: 3rem;
    border-top: 4px solid var(--color-verde-profundo);
    background-color: var(--color-burdeos-oscuro);
}

.main-footer h5 {
    font-weight: 700;
    font-size: 1.1rem;
    color: #fff;
}

.main-footer a {
    color: #f0f6f5;
    text-decoration: none;
    transition: color .3s ease;
}

.main-footer a:hover {
    color: var(--color-amarillo-claro);
}

.main-footer img {
    filter: brightness(0) invert(1);
    transition: filter .3s ease;
}

.main-footer img:hover {
    filter: brightness(0) invert(1) drop-shadow(0 0 8px rgba(255, 255, 255, .3));
}

/* ---------- 9) Preloader ---------- */
#preloader {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    z-index: 10000;
    backdrop-filter: blur(var(--blur-sm));
    transition: opacity .5s ease, visibility .5s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
}

#preloader img {
    animation: pulse 2s ease-in-out infinite;
}

#preloader h3 {
    font-weight: 700;
    color: var(--color-burdeos-oscuro);
    margin-bottom: .5rem;
}

#preloader p {
    color: var(--color-verde-profundo);
    font-weight: 500;
}

.spinner-border {
    color: var(--color-burdeos-medio) !important;
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: .7;
        transform: scale(1.05);
    }
}

.preloader-hide {
    opacity: 0;
    visibility: hidden;
}

/* ---------- 10) Blockquotes / Placeholders ---------- */
.blockquote {
    font-size: 1.25rem;
    font-style: italic;
    color: var(--color-burdeos-oscuro);
    border-left: 5px solid var(--color-verde-profundo);
    padding-left: 1.25rem;
}

.blockquote-footer {
    color: var(--color-verde-profundo);
    font-size: .9rem;
}

.blockquote-footer cite {
    color: var(--color-burdeos-medio);
}

#map-placeholder,
#calendar-placeholder {
    border-radius: var(--radius-lg);
    box-shadow: var(--elev-1);
    font-weight: 600;
}

/* ---------- 11) Dark Mode (prefers-color-scheme) ---------- */
/* @media (prefers-color-scheme: dark) {
    :root {
        --body-dark: #121316;
        --card-dark: #181b20;
        --text-dark: #e9e9ef;
    }

    body {
        background: radial-gradient(circle at 25% 20%, #16171a 0%, #121316 60%, #0f1012 100%);
        color: var(--text-dark);
    }

    .card {
        background: var(--card-dark);
        border-color: rgba(255, 255, 255, .06);
        box-shadow: none;
    }

    .institutional-navbar {
        background: linear-gradient(135deg, #121316 0%, #181b20 100%);
        border-bottom-color: var(--color-burdeos-medio);
    }

    .u-glass {
        background: rgba(24, 27, 32, .6);
        border-color: rgba(255, 255, 255, .08);
    }

    .table thead th {
        background: linear-gradient(135deg, #1e4f43, #195846);
    }

    .main-footer {
        border-top-color: var(--color-verde-profundo);
    }
} */

/* (Opcional) Forzar dark mode por clase .dark en <html> */
/*
html.dark body { ... }
*/

/* ---------- Footer: social icons mejoradas ---------- */
.main-footer .social-icons,
.site-footer .social-icons {
    display: flex;
    gap: 0.5rem;
    align-items: center;
    flex-wrap: wrap;
}

/* Botón social base */
.main-footer .social-icons a,
.site-footer .social-icons a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 10px;
    color: #fff;
    text-decoration: none;
    font-size: 18px;
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    box-shadow: 0 4px 12px rgba(0, 0, 0, .12);
    background: linear-gradient(135deg, rgba(255, 255, 255, .04), rgba(255, 255, 255, .02));
    border: 1px solid rgba(255, 255, 255, .06);
}

/* Hover / focus */
.main-footer .social-icons a:hover,
.site-footer .social-icons a:hover,
.main-footer .social-icons a:focus,
.site-footer .social-icons a:focus {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, .18);
    outline: none;
}

/* Focus visible accesible */
.main-footer .social-icons a:focus-visible,
.site-footer .social-icons a:focus-visible {
    box-shadow: var(--ring-verde), 0 8px 24px rgba(0, 0, 0, .18);
}

/* Variantes por red (puedes ajustar colores) */
.social-twitter {
    background: linear-gradient(135deg, #1DA1F2, #0d8ae6);
}

.social-facebook {
    background: linear-gradient(135deg, #1877F2, #0f63d9);
}

.social-youtube {
    background: linear-gradient(135deg, #FF0000, #C70000);
}

.social-instagram {
    background: linear-gradient(135deg, #F58529, #DD2A7B);
}

.social-linkedin {
    background: linear-gradient(135deg, #0077B5, #005b8a);
}

/* Nombre (texto) visible en pantallas >= md */
.main-footer .social-icons a .social-label,
.site-footer .social-icons a .social-label {
    display: none;
    margin-left: .5rem;
    font-weight: 700;
    font-size: .9rem;
    color: #fff;
}

/* En pantallas grandes mostrar etiqueta al lado */
@media (min-width: 768px) {
    .main-footer .social-icons a {
        width: auto;
        padding: 0 .9rem;
        border-radius: 12px;
    }

    .main-footer .social-icons a .bi {
        margin-right: .4rem;
    }

    .main-footer .social-icons a .social-label {
        display: inline-block;
    }

    .site-footer .social-icons a {
        width: auto;
        padding: 0 .8rem;
    }

    .site-footer .social-icons a .social-label {
        display: inline-block;
    }
}

/* Pequeño pulso en hover para destacar */
.main-footer .social-icons a:hover::after,
.site-footer .social-icons a:hover::after {
    content: "";
    position: absolute;
    width: 80%;
    height: 80%;
    border-radius: 14px;
    top: 10%;
    left: 10%;
    pointer-events: none;
    background: radial-gradient(circle, rgba(255, 255, 255, .06), transparent 40%);
}

/* Asegurar contraste en modo disabled */
.main-footer .social-icons a[aria-disabled="true"],
.site-footer .social-icons a[aria-disabled="true"] {
    opacity: .45;
    pointer-events: none;
    transform: none;
    box-shadow: none;
}